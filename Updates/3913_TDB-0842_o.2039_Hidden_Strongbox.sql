-- Respawn Hidden Strongbox 2039 & Add Pooling
-- https://tbc.wowhead.com/object=2039/hidden-strongbox
SET @GUID := 300259;
DELETE FROM `gameobject` WHERE `id` = 2039;
INSERT INTO `gameobject` (`guid`, `id`, `map`, `spawnMask`, `position_x`, `position_y`, `position_z`, `orientation`, `rotation0`, `rotation1`, `rotation2`, `rotation3`, `spawntimesecsmin`, `spawntimesecsmax`, `animprogress`, `state`) VALUES
(@GUID := @GUID + 0, 2039, 0, 1, 52.725, 484.512, 41.9076, 5.18363, 0, 0, -0.522498, 0.852641, 300, 300, 100, 1),
(@GUID := @GUID + 1, 2039, 0, 1, 63.51237106323242187, 268.543487548828125, 43.12331771850585937, 0.331610709428787231, 0, 0, 0.16504669189453125, 0.986285746097564697, 300, 300, 100, 1),
(@GUID := @GUID + 1, 2039, 0, 1, 72.1165, 424.798, 43.0758, 3.38594, 0, 0, -0.992546, 0.12187, 300, 300, 100, 1),
(@GUID := @GUID + 1, 2039, 0, 1, 73.9381, 351.444, 42.0666, 5.96903, 0, 0, -0.156434, 0.987688, 300, 300, 100, 1),
(@GUID := @GUID + 1, 2039, 0, 1, 90.2206, 237.015, 43.2842, 0.0349062, 0, 0, 0.0174522, 0.999848, 300, 300, 100, 1),
(@GUID := @GUID + 1, 2039, 0, 1, 97.6637, 461.808, 41.9076, 6.21337, 0, 0, -0.0348988, 0.999391, 300, 300, 100, 1),
(@GUID := @GUID + 1, 2039, 0, 1, 109.063, 263.748, 43.2449, 5.49779, 0, 0, -0.382683, 0.92388, 300, 300, 100, 1),
(@GUID := @GUID + 1, 2039, 0, 1, 298.736, 186.098, 42.6336, 2.30383, 0, 0, 0.913545, 0.406738, 300, 300, 100, 1),
(@GUID := @GUID + 1, 2039, 0, 1, 318.04290771484375, 197.0130767822265625, 41.90760040283203125, -1.22173047065734863, 0, 0, 0.57357645034790039, -0.81915205717086791, 7200, 7200, 100, 1),
(@GUID := @GUID + 1, 2039, 0, 1, 366.0279541015625, 173.18341064453125, 42.79646682739257812, -1.2042773962020874, 0, 0, 0.566406309604644775, -0.82412612438201904, 7200, 7200, 100, 1),
(@GUID := @GUID + 1, 2039, 0, 1, 370.835723876953125, 149.831298828125, 42.71349334716796875, 1.256637096405029296, 0, 0, 0.587785243988037109, 0.809017002582550048, 7200, 7200, 100, 1),
(@GUID := @GUID + 1, 2039, 0, 1, 375.222, 203.855, 43.0311, 4.99164, 0, 0, -0.601814, 0.798636, 300, 300, 100, 1),
(@GUID := @GUID + 1, 2039, 0, 1, 423.81182861328125, 178.54541015625, 43.07780838012695312, -2.60053515434265136, 0, 0, -0.96362972259521484, 0.26724100112915039, 300, 300, 255, 1),
(@GUID := @GUID + 1, 2039, 0, 1, 444.879, 196.229, 43.2402, -2.89724, 0, 0, -0.992546, 0.121873, 300, 300, 255, 1), -- z corrupted
(@GUID := @GUID + 1, 2039, 0, 1, 475.84771728515625, 258.451446533203125, 43.32627487182617187, 2.58308720588684082, 0, 0, 0.961261689662933349, 0.275637388229370117, 300, 300, 100, 1),
(@GUID := @GUID + 1, 2039, 0, 1, 496.921600341796875, 190.6779022216796875, 41.90555572509765625, -0.36651757359504699, 0, 0, -0.18223476409912109, 0.98325502872467041, 300, 300, 255, 1);

UPDATE `gameobject` SET `spawntimesecsmin` = 300, `spawntimesecsmax` = 900, `animprogress` = 100, `state` = 1 WHERE `id` = 2039; -- 300/7200

DELETE FROM `pool_template` WHERE `entry` = 1824;
INSERT INTO `pool_template` (`entry`, `max_limit`, `description`) VALUES
(1824, 4, 'Alterac Mountains (Dalaran) - Hidden Strongbox (2039)'); -- 16 max

DELETE FROM `pool_gameobject_template` WHERE `id` = 2039;
INSERT INTO `pool_gameobject_template` (`id`, `pool_entry`, `chance`, `description`) VALUES
(2039, 1824, 0, 'Alterac Mountains (Dalaran) - Hidden Strongbox (2039)');

